<section>
    <div class="container-fluid p-4 ">
        <div class="row mt-3 ms-2"  style="width:30rem">
            <a href="/admin/add-product" class="btn btn-dark w-25  " >Add Product</a>
        </div>
        <table class="table mt-5" id="productTable">
  <thead>
    <tr>
      <th scope="col">No</th>
      <th scope="col">Title</th>
      <th scope="col">Category</th>
      <th>Price</th>
      <th scope="col">Description</th>
      <th>Image</th>
      <th>Options</th>
    </tr>
  </thead>
  <tbody>

      {{#each products}}
    <tr>
      <th scope="row">{{inc @index}}</th>
      <td>{{this.Name}}</td>
      <td>{{this.Category.Category}}</td>
      <td>RS:{{this.Price}}</td>
      <td>{{this.Description}}</td>
      <td><img style="width:50px;height:50px" src="/product-images/{{this._id}}.jpg" alt=""></td>
      <td>
        <a href="/admin/edit-product/{{this._id}}" class="btn btn-primary"> Edit </a>
        {{!-- <a href="/admin/delete-product/{{this._id}}" class="btn btn-danger" onclick="return confirm('are you sure want to delete {{this.Name}}?')">Delete</a> --}}
        <button class="btn btn-danger" onclick="deleteButton('/admin/delete-product/{{this._id}}')"><i class="fa fa-trash-O"></i></button>

        {{#if ProductOffer}}
                  
                    <button  class="btn btn-success">{{this.offerPercentage}}%OFF</button>
                  
                  {{else}}
                  <a class="pt-2" href="/admin/add-product-offer/{{this._id}}"  type="submit"> <button type="button" class="btn btn-info">Add Offer</button></a>
                  
                  {{/if}}
        
      </td> 
    </tr>
    {{/each}}
  </tbody>
</table>
    </div>
</section>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>



<script>
  function deleteButton(value){
  Swal.fire({
  title: 'Are you sure?',
  text: "You won't be able to revert this!",
  icon: 'warning',
  showCancelButton: true,
  confirmButtonColor: '#3085d6',
  cancelButtonColor: '#d33',
  confirmButtonText: 'Yes, delete it!'
}).then((result) => {
  if (result.isConfirmed) {
    {window.location=value}
    
  }
})
  }
</script>









   






